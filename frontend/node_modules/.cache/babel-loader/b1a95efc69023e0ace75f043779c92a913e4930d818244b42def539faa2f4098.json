{"ast":null,"code":"import{useRef}from\"react\";import useFormValidation from\"../../utils/useFormValidation.js\";import PopupWithForm from\"../PopupWithForm/PopupWithForm.jsx\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function EditAvatarPopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onUpdateAvatar=_ref.onUpdateAvatar,isLoadingSubmit=_ref.isLoadingSubmit;var _useFormValidation=useFormValidation(),value=_useFormValidation.value,error=_useFormValidation.error,isValid=_useFormValidation.isValid,isInputValid=_useFormValidation.isInputValid,handleChange=_useFormValidation.handleChange,reset=_useFormValidation.reset;var input=useRef();function resetClose(){onClose();reset();}function handleSubmit(e){e.preventDefault();onUpdateAvatar({avatar:input.current.value},reset);}return/*#__PURE__*/_jsxs(PopupWithForm,{name:\"edit-avatar\",title:\"\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\",isOpen:isOpen,onClose:resetClose,onSubmit:handleSubmit,isValid:isValid,children:[/*#__PURE__*/_jsx(\"input\",{className:\"popup__input popup__input_avatar \".concat(isInputValid.avatar===undefined||isInputValid.avatar?'':'popup__input_error'),name:\"avatar\",id:\"avatar\",type:\"url\",placeholder:\"\\u0441\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u043A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0443\",required:\"\",ref:input,value:value.avatar?value.avatar:\"\",disabled:isLoadingSubmit,onChange:handleChange}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__error\",id:\"avatar-error\",children:error.avatar})]});}","map":{"version":3,"names":["useRef","useFormValidation","PopupWithForm","jsx","_jsx","jsxs","_jsxs","EditAvatarPopup","_ref","isOpen","onClose","onUpdateAvatar","isLoadingSubmit","_useFormValidation","value","error","isValid","isInputValid","handleChange","reset","input","resetClose","handleSubmit","e","preventDefault","avatar","current","name","title","onSubmit","children","className","concat","undefined","id","type","placeholder","required","ref","disabled","onChange"],"sources":["C:/Users/User/Desktop/dev/react-mesto-auth/src/components/EditAvatarPopup/EditAvatarPopup.jsx"],"sourcesContent":["import { useRef } from \"react\";\r\nimport useFormValidation from \"../../utils/useFormValidation.js\";\r\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm.jsx\";\r\n\r\nexport default function EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, isLoadingSubmit }) {\r\n  const { value, error, isValid, isInputValid, handleChange, reset } = useFormValidation()\r\n  const input = useRef()\r\n\r\n  function resetClose() {\r\n    onClose()\r\n    reset()\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    onUpdateAvatar({avatar: input.current.value}, reset)\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"edit-avatar\"\r\n      title=\"Обновить аватар\"\r\n      isOpen={isOpen}\r\n      onClose={resetClose}\r\n      onSubmit={handleSubmit}\r\n      isValid={isValid}\r\n    >\r\n      <input\r\n        className={`popup__input popup__input_avatar ${isInputValid.avatar === undefined || isInputValid.avatar ? '' : 'popup__input_error'}`}\r\n        name=\"avatar\"\r\n        id=\"avatar\"\r\n        type=\"url\"\r\n        placeholder=\"ссылка на картинку\"\r\n        required=\"\"\r\n        ref={input}\r\n        value={value.avatar ? value.avatar : \"\"}\r\n        disabled={isLoadingSubmit}\r\n        onChange={handleChange}\r\n      />\r\n      <span className=\"popup__error\" id=\"avatar-error\">{error.avatar}</span>\r\n    </PopupWithForm>\r\n  )\r\n}"],"mappings":"AAAA,OAASA,MAAM,KAAQ,OAAO,CAC9B,MAAO,CAAAC,iBAAiB,KAAM,kCAAkC,CAChE,MAAO,CAAAC,aAAa,KAAM,oCAAoC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE/D,cAAe,SAAS,CAAAC,eAAeA,CAAAC,IAAA,CAAuD,IAApD,CAAAC,MAAM,CAAAD,IAAA,CAANC,MAAM,CAAEC,OAAO,CAAAF,IAAA,CAAPE,OAAO,CAAEC,cAAc,CAAAH,IAAA,CAAdG,cAAc,CAAEC,eAAe,CAAAJ,IAAA,CAAfI,eAAe,CACxF,IAAAC,kBAAA,CAAqEZ,iBAAiB,CAAC,CAAC,CAAhFa,KAAK,CAAAD,kBAAA,CAALC,KAAK,CAAEC,KAAK,CAAAF,kBAAA,CAALE,KAAK,CAAEC,OAAO,CAAAH,kBAAA,CAAPG,OAAO,CAAEC,YAAY,CAAAJ,kBAAA,CAAZI,YAAY,CAAEC,YAAY,CAAAL,kBAAA,CAAZK,YAAY,CAAEC,KAAK,CAAAN,kBAAA,CAALM,KAAK,CAChE,GAAM,CAAAC,KAAK,CAAGpB,MAAM,CAAC,CAAC,CAEtB,QAAS,CAAAqB,UAAUA,CAAA,CAAG,CACpBX,OAAO,CAAC,CAAC,CACTS,KAAK,CAAC,CAAC,CACT,CAEA,QAAS,CAAAG,YAAYA,CAACC,CAAC,CAAE,CACvBA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBb,cAAc,CAAC,CAACc,MAAM,CAAEL,KAAK,CAACM,OAAO,CAACZ,KAAK,CAAC,CAAEK,KAAK,CAAC,CACtD,CAEA,mBACEb,KAAA,CAACJ,aAAa,EACZyB,IAAI,CAAC,aAAa,CAClBC,KAAK,CAAC,uFAAiB,CACvBnB,MAAM,CAAEA,MAAO,CACfC,OAAO,CAAEW,UAAW,CACpBQ,QAAQ,CAAEP,YAAa,CACvBN,OAAO,CAAEA,OAAQ,CAAAc,QAAA,eAEjB1B,IAAA,UACE2B,SAAS,qCAAAC,MAAA,CAAsCf,YAAY,CAACQ,MAAM,GAAKQ,SAAS,EAAIhB,YAAY,CAACQ,MAAM,CAAG,EAAE,CAAG,oBAAoB,CAAG,CACtIE,IAAI,CAAC,QAAQ,CACbO,EAAE,CAAC,QAAQ,CACXC,IAAI,CAAC,KAAK,CACVC,WAAW,CAAC,oGAAoB,CAChCC,QAAQ,CAAC,EAAE,CACXC,GAAG,CAAElB,KAAM,CACXN,KAAK,CAAEA,KAAK,CAACW,MAAM,CAAGX,KAAK,CAACW,MAAM,CAAG,EAAG,CACxCc,QAAQ,CAAE3B,eAAgB,CAC1B4B,QAAQ,CAAEtB,YAAa,CACxB,CAAC,cACFd,IAAA,SAAM2B,SAAS,CAAC,cAAc,CAACG,EAAE,CAAC,cAAc,CAAAJ,QAAA,CAAEf,KAAK,CAACU,MAAM,CAAO,CAAC,EACzD,CAAC,CAEpB"},"metadata":{},"sourceType":"module","externalDependencies":[]}